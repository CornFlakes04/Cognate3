<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nexora Tech | Projects — Add Product</title>

  <!-- Bootstrap 5 (for nice form controls & grid) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* ===== Palette (matches your screenshot header) ===== */
    :root {
      --mint-0: #f7fbfa;
      /* page bg */
      --mint-1: #e9f2f0;
      /* header base */
      --mint-2: #dfecea;
      /* header arcs */
      --teal: #0f6a64;
      /* accent for “Projects” & brand */
      --ink: #0b1b1a;
      --rule: #dde9e7;

      /* form/card helpers */
      --teal-deep: #0f6a64;
      /* teal swatch for card background */
    }

    * {
      box-sizing: border-box
    }

    html,
    body {
      height: 100%
    }

    body {
      margin: 0;
      background: var(--mint-0);
      color: var(--ink);
      font-family: Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif;
    }

    a {
      color: inherit;
      text-decoration: none
    }

    .container-max {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px
    }

    /* ===== Header like your image ===== */
    header.site-hero {
      background:
        radial-gradient(900px 260px at 20% -40%, var(--mint-2), transparent 60%),
        radial-gradient(800px 220px at 90% -50%, var(--mint-1), transparent 60%),
        var(--mint-1);
      border-bottom: 1px solid var(--rule);
    }

    header .bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 0 8px;
    }

    .brand {
      font-size: 34px;
      font-weight: 700;
      letter-spacing: .2px;
    }

    .brand .accent {
      color: var(--teal)
    }

    nav ul {
      display: flex;
      gap: 28px;
      list-style: none;
      margin: 0;
      padding: 0
    }

    nav a {
      opacity: .9
    }

    nav a.active {
      color: var(--teal);
      font-weight: 600
    }

    .divider {
      height: 1px;
      background: #e8f2f0;
      margin: 10px 0 12px
    }

    @media (max-width: 720px) {
      .brand {
        font-size: 26px
      }

      nav ul {
        gap: 18px
      }
    }

    /* ===== Add Product section ===== */
    .section {
      padding: 32px 0 48px
    }

    /* Card styled with your teal swatch */
    .card.teal-card {
      background: var(--teal-deep);
      color: #ffffff;
      border: 1px solid rgba(255, 255, 255, .18);
      border-radius: 1rem;
      box-shadow: 0 12px 30px rgba(0, 0, 0, .15);
    }

    .teal-card .form-label {
      color: #ecf6f3
    }

    .teal-card .form-text {
      color: #cfe7e3
    }

    .teal-card .form-control,
    .teal-card .form-select,
    .teal-card .input-group-text {
      background: #ffffff;
      color: #183533;
      border-color: #d8e7e4;
    }

    .teal-card .form-control:focus,
    .teal-card .form-select:focus {
      border-color: #0a4a46;
      box-shadow: 0 0 0 .2rem rgba(10, 74, 70, .18);
    }

    .teal-card .btn-primary {
      --bs-btn-bg: #0a4a46;
      --bs-btn-border-color: #0a4a46;
      --bs-btn-hover-bg: #083c39;
      --bs-btn-hover-border-color: #083c39;
    }

    .teal-card .btn-outline-secondary {
      --bs-btn-color: #ffffff;
      --bs-btn-border-color: #e1efed;
      --bs-btn-hover-bg: #e1efed;
      --bs-btn-hover-color: #083c39;
    }

    .dropzone {
      border: 1px dashed #bcd6d2;
      border-radius: .75rem;
      min-height: 180px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(180deg, #ffffff, #f7fbfa);
    }

    .dropzone img {
      max-width: 100%;
      max-height: 240px;
      display: none;
      border-radius: .5rem
    }

    #dzHint {
      color: #e1f0ee
    }
  </style>
</head>

<body>

  <!-- ===== Header (like your screenshot) ===== -->
  <header class="site-hero">
    <div class="container-max">
      <div class="bar">
        <div class="brand">Nexora Tech <span class="accent">| Projects</span></div>
        <nav aria-label="Main">
          <ul>
            <li><a href="http://127.0.0.1:5500/project.html">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="#">Services</a></li>
            <li><a class="active" href="#">Projects</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>
      </div>
      <div class="divider"></div>
    </div>
  </header>

  <!-- ===== Add Product Form ===== -->
  <main class="section">
    <div class="container-max" style="max-width: 980px;">
      <div class="card teal-card">
        <div class="card-body p-4 p-md-5">
          <form id="productForm" class="row g-4" enctype="multipart/form-data" autocomplete="off">
            <div class="col-md-6">
              <label class="form-label">Name *</label>
              <input type="text" name="name" class="form-control" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">SKU *</label>
              <input type="text" name="sku" class="form-control" required>
            </div>
            <div class="col-md-4">
              <label class="form-label">Price *</label>
              <div class="input-group">
                <span class="input-group-text">₱</span>
                <input type="number" step="0.01" min="0" name="price" class="form-control" required>
              </div>
            </div>
            <div class="col-md-4">
              <label class="form-label">Quantity *</label>
              <input type="number" min="0" name="quantity" class="form-control" required>
            </div>
            <div class="col-md-12">
              <label class="form-label">Description</label>
              <textarea name="description" class="form-control" rows="4" placeholder="Optional description…"></textarea>
            </div>

            <div class="col-md-7">
              <label class="form-label">Product Image (JPG/PNG, ≤3MB)</label>
              <input type="file" name="image" class="form-control" accept="image/jpeg,image/png">
              <div class="form-text">Tip: use a 1:1 or 4:3 photo for best card previews.</div>
            </div>
            <div class="col-md-5">
              <div class="dropzone h-100">
                <img id="imgPreview" alt="Preview">
                <span id="dzHint">Image preview</span>
              </div>
            </div>

            <div class="col-12 d-flex gap-2">
              <button id="btnSubmit" class="btn btn-primary px-4" type="submit">Save Product</button>
              <button class="btn btn-outline-secondary" type="reset">Clear</button>
              <div id="msg" class="ms-2 align-self-center small"></div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer Start -->
  <div class="container-fluid bg-dark text-white-50 footer pt-5">
    <div class="container py-5">
      <div class="row g-5 text-center text-lg-start">

        <!-- Column 1: NEXORA -->
        <div class="col-lg-4">
          <h1 class="text-white mb-3">NEXORA</h1>
          <p class="mb-0">
            We deliver smart IoT solutions that simplify life and work by connecting devices and data seamlessly for
            smarter living.
          </p>
        </div>

        <!-- Column 2: Get In Touch -->
        <div class="col-lg-4">
          <h5 class="text-white mb-4">Get In Touch</h5>
          <p><i class="fa fa-map-marker-alt me-3"></i>123 Street, Pasig City, Philippines</p>
          <p><i class="fa fa-phone-alt me-3"></i>+63 912 345 6789</p>
          <p><i class="fa fa-envelope me-3"></i>nexora@tech.com</p>
          <div class="d-flex justify-content-center justify-content-lg-start pt-2">
            <a class="btn btn-outline-primary btn-square border-2 me-2" href="https://www.facebook.com/"><i
                class="fab fa-facebook-f"></i></a>
            <a class="btn btn-outline-primary btn-square border-2 me-2" href="https://www.instagram.com/sample"><i
                class="fab fa-instagram"></i></a>
          </div>
        </div>

        <!-- Column 3: Popular Link -->
        <div class="col-lg-4">
          <h5 class="text-white mb-4">Popular Link</h5>
          <a class="btn btn-link" href="about.html">About Us</a>
          <a class="btn btn-link" href="contact.html">Contact Us</a>
          <a class="btn btn-link" href="project.html">Projects</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer End -->

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Image preview
    (function () {
      const form = document.getElementById('productForm');
      const msg = document.getElementById('msg');
      const fileInput = form.querySelector('input[name="image"]');
      const img = document.getElementById('imgPreview');
      const dzHint = document.getElementById('dzHint');

      fileInput.addEventListener('change', () => {
        const f = fileInput.files?.[0];
        if (!f) { img.style.display = 'none'; img.src = ''; dzHint.style.display = ''; return; }
        const url = URL.createObjectURL(f);
        img.src = url;
        img.style.display = 'block';
        dzHint.style.display = 'none';
      });

      // Submit → PHP
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        msg.textContent = 'Saving…';
        msg.className = 'ms-2 small text-light';

        const price = parseFloat(form.price.value);
        const qty = parseInt(form.quantity.value, 10);
        if (isNaN(price) || price < 0) {
          msg.textContent = 'Price must be a non-negative number.'; msg.className = 'ms-2 small text-warning'; return;
        }
        if (!Number.isInteger(qty) || qty < 0) {
          msg.textContent = 'Quantity must be a non-negative integer.'; msg.className = 'ms-2 small text-warning'; return;
        }

        try {
          const fd = new FormData(form);
          // Adjust path if your API is elsewhere
          const res = await fetch('../api/add_product.php', { method: 'POST', body: fd });
          const data = await res.json().catch(() => ({}));
          if (!res.ok || !data.ok) {
            msg.textContent = data.error || 'Failed to add product.';
            msg.className = 'ms-2 small text-warning';
            return;
          }
          msg.textContent = 'Product added successfully.';
          msg.className = 'ms-2 small text-light';
          form.reset();
          img.style.display = 'none'; img.src = ''; dzHint.style.display = '';
        } catch {
          msg.textContent = 'Network or server error.';
          msg.className = 'ms-2 small text-warning';
        }
      });

      // Reset preview
      form.addEventListener('reset', () => {
        setTimeout(() => { img.style.display = 'none'; img.src = ''; dzHint.style.display = ''; msg.textContent = ''; }, 0);
      });
    })();
  </script>
</body>

</html>